# SPDX-License-Identifier: (GPL-2.0-only OR BSD-2-Clause)
# Copyright (C) 2020 Texas Instruments Incorporated
%YAML 1.2
---
$id: "http://devicetree.org/schemas/net/ti,dp83td510.yaml#"
$schema: "http://devicetree.org/meta-schemas/core.yaml#"

title: TI DP83TD510 ethernet PHY

allOf:
  - $ref: "ethernet-controller.yaml#"

maintainers:
  - Dan Murphy <dmurphy@ti.com>

description: |
  The PHY is an twisted pair 10Mbps Ethernet PHY that support MII, RMII and
  RGMII interfaces.

  Specifications about the Ethernet PHY can be found at:
    http://www.ti.com/lit/ds/symlink/dp83td510e.pdf

properties:
  reg:
    maxItems: 1

  tx-fifo-depth:
    description: |
       Transmitt FIFO depth for RMII mode.  The PHY only exposes 4 nibble
       depths. The valid nibble depths are 4, 5, 6 and 8.
    default: 5

  rx-internal-delay-ps:
    description: |
       Setting this property to a non-zero number sets the RX internal delay
       for the PHY.  The internal delay for the PHY is fixed to 30ns relative
       to receive data.

  tx-internal-delay-ps:
    description: |
       Setting this property to a non-zero number sets the TX internal delay
       for the PHY.  The internal delay for the PHY has a range of -4 to 4ns
       relative to transmit data.

  ti,master-slave-mode:
    $ref: /schemas/types.yaml#definitions/uint32
    default: 0
    description: |
      Force the PHY to be configured to a specific mode.
      Force Auto Negotiation - 0
      Force Master mode at 1v p2p - 1
      Force Master mode at 2.4v p2p - 2
      Force Slave mode at 1v p2p - 3
      Force Slave mode at 2.4v p2p - 4

required:
  - reg

examples:
  - |
    mdio0 {
      #address-cells = <1>;
      #size-cells = <0>;
      ethphy0: ethernet-phy@0 {
        reg = <0>;
        tx-fifo-depth = <5>;
        rx-internal-delay-ps = <1>;
        tx-internal-delay-ps = <1>;
      };
    };
